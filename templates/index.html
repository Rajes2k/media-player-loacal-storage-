<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üé¨ Rajes Media Player</title>
  <style>
    :root {
      --bg-dark: #0d1117;
      --bg-light: #f5f5f5;
      --text-dark: #ffffff;
      --text-light: #000000;
      --accent: #00bcd4;
      --card-bg-dark: #1c1c1c;
      --card-bg-light: #ffffff;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg-dark);
      color: var(--text-dark);
      margin: 0;
      padding: 0;
      transition: all 0.3s ease-in-out;
    }

    body.light {
      background: var(--bg-light);
      color: var(--text-light);
    }

    h1 {
      text-align: center;
      margin-top: 15px;
      color: var(--accent);
    }

    .top-controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin: 20px;
    }

    label, select, button {
      background: var(--accent);
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }

    label:hover, select:hover, button:hover {
      transform: scale(1.05);
      background: #02c8e6;
    }

    input[type="file"] {
      display: none;
    }

    #themeToggle {
      background: transparent;
      border: 2px solid var(--accent);
      color: var(--accent);
      padding: 8px 12px;
      border-radius: 8px;
    }

    #viewToggle {
      background: transparent;
      border: 2px solid var(--accent);
      color: var(--accent);
      padding: 8px 12px;
      border-radius: 8px;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      padding: 20px;
      transition: all 0.3s;
    }

    .gallery.list {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .thumb {
      background: var(--card-bg-dark);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
    }

    body.light .thumb {
      background: var(--card-bg-light);
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .thumb:hover {
      transform: translateY(-6px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
    }

    video, audio {
      width: 100%;
      height: auto;
      border-bottom: 1px solid #333;
    }

    .meta {
      padding: 10px;
      font-size: 13px;
      text-align: left;
    }

    .meta strong {
      color: var(--accent);
    }

    #player-container {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    #player {
      width: 90%;
      height: auto;
      max-height: 85%;
    }

    #close {
      position: absolute;
      top: 20px;
      right: 25px;
      font-size: 25px;
      color: white;
      cursor: pointer;
    }

  </style>
</head>
<body>
  <h1>üéßüé¨ Rajes Media Player</h1>

  <div class="top-controls">
    <label for="fileInput">üìÇ Select Files</label>
    <input type="file" id="fileInput" accept="video/*,audio/*" multiple>

    <label for="folderInput">üìÅ Select Folder</label>
    <input type="file" id="folderInput" accept="video/*,audio/*" webkitdirectory>

    <select id="sortSelect">
      <option value="type">Sort by: Type</option>
      <option value="title">Title</option>
      <option value="date">Date</option>
      <option value="length">Length</option>
      <option value="size">Size</option>
      <option value="resolution">Resolution</option>
    </select>

    <button id="viewToggle">üî≤ Grid / List</button>
    <button id="themeToggle">üåô Toggle Theme</button>
  </div>

  <div class="gallery" id="gallery"></div>

  <div id="player-container">
    <span id="close">‚úñ</span>
    <video id="player" controls></video>
    <audio id="audioPlayer" controls></audio>
  </div>

  <script>
    const gallery = document.getElementById('gallery');
    const playerContainer = document.getElementById('player-container');
    const videoPlayer = document.getElementById('player');
    const audioPlayer = document.getElementById('audioPlayer');
    const closeBtn = document.getElementById('close');
    const themeToggle = document.getElementById('themeToggle');
    const viewToggle = document.getElementById('viewToggle');
    const sortSelect = document.getElementById('sortSelect');

    let currentTheme = 'dark';
    let currentView = 'grid';
    let mediaFiles = [];

    // Theme Toggle
    themeToggle.onclick = () => {
      document.body.classList.toggle('light');
      currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
    };

    // View Toggle
    viewToggle.onclick = () => {
      gallery.classList.toggle('list');
      currentView = currentView === 'grid' ? 'list' : 'grid';
    };

    closeBtn.onclick = () => {
      videoPlayer.pause();
      audioPlayer.pause();
      playerContainer.style.display = 'none';
    };

    // Sort Function
    sortSelect.onchange = () => {
      sortMedia();
      displayMedia();
    };

    function sortMedia() {
      const sortBy = sortSelect.value;
      mediaFiles.sort((a, b) => {
        if (sortBy === 'title') return a.name.localeCompare(b.name);
        if (sortBy === 'type') return a.type.localeCompare(b.type);
        if (sortBy === 'size') return a.size - b.size;
        if (sortBy === 'date') return a.lastModified - b.lastModified;
        return 0;
      });
    }

    function formatBytes(bytes) {
      const sizes = ['B', 'KB', 'MB', 'GB'];
      if (bytes === 0) return '0 B';
      const i = Math.floor(Math.log(bytes) / Math.log(1024));
      return parseFloat((bytes / Math.pow(1024, i)).toFixed(2)) + ' ' + sizes[i];
    }

    function displayMedia() {
      gallery.innerHTML = '';
      mediaFiles.forEach(file => {
        const url = URL.createObjectURL(file);
        const div = document.createElement('div');
        div.className = 'thumb';

        const isVideo = file.type.startsWith('video/');
        const media = document.createElement(isVideo ? 'video' : 'audio');
        media.src = url;
        media.preload = 'metadata';
        media.muted = true;

        const meta = document.createElement('div');
        meta.className = 'meta';
        meta.innerHTML = `<strong>${file.name}</strong><br>
          Type: ${file.type.split('/')[0]}<br>
          Size: ${formatBytes(file.size)}<br>
          Path: (Local File)<br>
          Date: ${new Date(file.lastModified).toLocaleDateString()}`;

        div.appendChild(media);
        div.appendChild(meta);

        div.onclick = () => {
          playerContainer.style.display = 'flex';
          if (isVideo) {
            videoPlayer.src = url;
            videoPlayer.style.display = 'block';
            audioPlayer.style.display = 'none';
            videoPlayer.play();
          } else {
            audioPlayer.src = url;
            audioPlayer.style.display = 'block';
            videoPlayer.style.display = 'none';
            audioPlayer.play();
          }
        };

        gallery.appendChild(div);
      });
    }

    document.getElementById('fileInput').addEventListener('change', e => {
      mediaFiles = [...e.target.files];
      sortMedia();
      displayMedia();
    });

    document.getElementById('folderInput').addEventListener('change', e => {
      mediaFiles = [...e.target.files];
      sortMedia();
      displayMedia();
    });
  </script>
</body>
</html>
